
  Generated template for the StudioPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-toolbar color="primary">
<!--     <ion-buttons start>
      <button ion-button icon-only >
        <ion-icon name="contact"></ion-icon>
      </button>
    </ion-buttons> -->
    <ion-searchbar 
      (ionInput)="getSearch($event)" 
      (ionCancel)="toggleSearch($event)" 
      placeholder=" Search {{ 'APP_TITLE' | translate }}" 
      animated=true 
      autocomplete="on"
      showCancelButton=true
      ></ion-searchbar>
    <ion-buttons end>
      <button ion-button icon-only menuToggle >
        <ion-icon name="menu"></ion-icon>
      </button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>


<ion-content>
  <ion-refresher (ionRefresh)="doRefresh($event)">
    <ion-refresher-content
      pullingIcon="arrow-dropdown"
      pullingText="Pull to refresh"
      refreshingSpinner="circles"
      refreshingText="Refreshing...">
    </ion-refresher-content>
  </ion-refresher>  
    <ion-segment [(ngModel)]="studioSegment" color="primary" (ionChange)="segmentChanged($event)">     
      <ion-segment-button value="tracks">
        Tracks
      </ion-segment-button>         
      <ion-segment-button value="published">
        Published
      </ion-segment-button>
    </ion-segment>    
<div [ngSwitch]="studioSegment">

<ion-grid *ngSwitchCase="'tracks'">
  <ion-row>
    <ion-col col-6  *ngFor="let song of studioProducts" >
      <ion-card color="primary">
        <ion-item [color]="currentSong && song.objectId == currentSong.trackId? 'secondary' : 'primary'" (click)="presentActionSheet(song)" no-lines>
          <small><strong>{{ song.title }}</strong></small><br/>
          <small>{{ song.artist }}</small>
          <ion-icon name="more" item-end ></ion-icon>
        </ion-item>             
        <img class="artist-cover" cache=false [src]="song.art ? song.art.url : 'assets/imgs/track-placeholder.png'"/>
        <div class="card-subtitle" icon-only (click)="playTrack(song)" >
            <ion-icon [color]="currentSong && song.objectId == currentSong.trackId? 'primary' : 'light'" [name]="currentSong && song.objectId == currentSong.trackId? 'pause' : 'play'"  name="play" ></ion-icon>
        </div>
      </ion-card>
    </ion-col>
  </ion-row>
</ion-grid>


  <ion-list *ngSwitchCase="'genres'" inset>
   
  </ion-list>

<div *ngSwitchCase="'published'" >
  <ion-list inset>     

    <ion-item-sliding *ngFor="let song of userProducts"  >
  <ion-item color="light">
    <ion-avatar item-start>
      <img [src]="song.art ? song.art.url : 'assets/imgs/track-placeholder.png'">
    </ion-avatar>
    <h2>{{ song.artist }}</h2>
    <p>{{ song.title }}</p>
  </ion-item>
      <ion-item-options side="left">
        <button ion-button (click)="favorite(item)">Favorite</button>
        <button ion-button color="danger" (click)="share(item)">Share</button>
      </ion-item-options>

      <ion-item-options side="right">
        <button ion-button (click)="unread(item)">Unread</button>
      </ion-item-options>
    </ion-item-sliding>        
  </ion-list>
    <ion-fab right bottom>
      <button ion-fab (click)="openPublishModal()">
        <ion-icon name="cloud-upload"></ion-icon>
      </button>
    </ion-fab>     
</div>

</div>
<div center text-center >
  <ion-spinner *ngIf="showSpinner"></ion-spinner><br/>
  <small *ngIf="spinnerMessage">{{spinnerMessage}}</small>
</div>

</ion-content>

<ion-footer >
      <ion-item no-lines color="primary"  >
        <ion-avatar small item-start (click)="openArtist(currentSong)">
          <img [src]="currentSong.art ? currentSong.art.url : 'assets/imgs/logo.png'">
        </ion-avatar>   
        <div *ngIf="currentSong">
          <h2>{{ currentSong.title }}</h2>
          <h3>{{ currentSong.artist}}</h3>
        </div>
        <div *ngIf="!currentSong">
          <h2>Welcome To Hetro Records</h2>
          <p>Tap on song cover to play track</p>
        </div>
        <ion-buttons item-end  *ngIf="currentSong" (click)="this.cdvAudioPlayer.skipBack()">
          <button ion-button icon-only  >
            <ion-icon name="skip-backward"></ion-icon>
          </button>
          <button ion-button icon-only (click)="this.cdvAudioPlayer.pause()"  >
            <ion-icon name="pause"></ion-icon>
          </button>
          <button ion-button icon-only (click)="this.cdvAudioPlayer.skipForward()" >
            <ion-icon name="skip-forward"></ion-icon>
          </button>
        </ion-buttons>
      </ion-item>  
</ion-footer>
