<!--
  Generated template for the StudioPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar color="primary">
  <ion-toolbar [color]="agentMode ? 'secondary' : 'primary'">
    <ion-segment [(ngModel)]="studioSegment" [color]="agentMode ? 'primary' : 'secondary'" (ionChange)="segmentChanged($event)">
      <ion-segment-button value=""  >
        All
      </ion-segment-button>
      <ion-segment-button value="hiphop">
        Hip-Hop
      </ion-segment-button>
      <ion-segment-button value="house">
        House
      </ion-segment-button>
      <ion-segment-button value="beats">
        Beats
      </ion-segment-button>
    </ion-segment>
  </ion-toolbar>
  </ion-navbar>

</ion-header>


<ion-content>
  <ion-refresher (ionRefresh)="doRefresh($event)">
    <ion-refresher-content
      pullingIcon="arrow-dropdown"
      pullingText="Pull to refresh"
      refreshingSpinner="circles"
      refreshingText="Refreshing...">
    </ion-refresher-content>
  </ion-refresher>  

    <ion-item-divider color="secondary">
      Get Published!
      <button ion-button outline  icon-left item-end>
        <ion-icon name="add-circle" ></ion-icon>
      Join Borracho Studio 
    </button>
    </ion-item-divider>  
<div [ngSwitch]="studioSegment">
  <ion-list *ngSwitchCase="''">
    <ion-item (click)="openProperty(property)" *ngFor="let product of studioProducts" >
      <ion-thumbnail item-start>
        <img [src]="product.art ? product.art.url : 'assets/imgs/logo.png'">
      </ion-thumbnail>
      <h2>{{ product.title }}</h2>
      <h3>{{ product.artist}}</h3>
      <small>
        <ion-icon name="clock" ></ion-icon> {{ product.duration }} | 
        <ion-icon name="people" ></ion-icon> {{ product.genre }} |
        <ion-icon name="download" ></ion-icon> {{ product.downloads }} 
      </small>
      <a ion-button outline item-end  color="primary" [href]="product.file.url"  small>
        <ion-icon name="download" ></ion-icon>
      </a>
    </ion-item>    
  </ion-list>

  <ion-list *ngSwitchCase="'hiphop'">
    <ion-item (click)="openProperty(property)" *ngFor="let product of studioProducts" >
      <ion-thumbnail item-start>
        <img [src]="product.art ? product.art.url : 'assets/imgs/logo.png'">
      </ion-thumbnail>
      <h2>{{ product.title }}</h2>
      <h3>{{ product.artist}}</h3>
      <small>
        <ion-icon name="clock" ></ion-icon> {{ product.duration }} | 
        <ion-icon name="people" ></ion-icon> {{ product.genre }} |
        <ion-icon name="download" ></ion-icon> {{ product.downloads }} 
      </small>
      <a ion-button outline item-end  color="primary" [href]="product.file.url"  small>
        <ion-icon name="download" ></ion-icon>
      </a>
    </ion-item>    
  </ion-list>

  <ion-list *ngSwitchCase="'house'">
    <ion-item-sliding>
    <ion-item (click)="openProperty(property)" *ngFor="let product of studioProducts" >
      <ion-thumbnail item-start>
        <img [src]="product.art ? product.art.url : 'assets/imgs/logo.png'">
      </ion-thumbnail>
      <h2>{{ product.title }}</h2>
      <h3>{{ product.artist}}</h3>
      <small>
        <ion-icon name="clock" ></ion-icon> {{ product.duration }} | 
        <ion-icon name="people" ></ion-icon> {{ product.genre }} |
        <ion-icon name="download" ></ion-icon> {{ product.downloads }} 
      </small>
      <a ion-button outline item-end  color="primary" [href]="product.file.url"  small>
        <ion-icon name="download" ></ion-icon>
      </a>
    </ion-item>    
  </ion-item-sliding> 
  </ion-list>

</div>
<div center text-center padding>
  <ion-spinner *ngIf="showSpinner"></ion-spinner><br/>
  <small *ngIf="spinnerMessage">{{spinnerMessage}}</small>
</div>
</ion-content>